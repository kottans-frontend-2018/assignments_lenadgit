{"dependencies":[{"name":"D:\\User\\kottansfrontend\\task-12-ex\\package.json","includedInParent":true,"mtime":1521295994984},{"name":"./App","loc":{"line":1,"column":16}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _App = require('./App');\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Login = function () {\n\tfunction Login() {\n\t\t_classCallCheck(this, Login);\n\t}\n\n\t_createClass(Login, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar showLogin = function showLogin() {\n\t\t\t\tdocument.querySelector('.input-login-wrapper').style.display = 'block';\n\t\t\t\tdocument.querySelector('.input-login-wrapper').innerHTML = '\\n\\t<div class = \\'cross\\'>x</div>\\n\\t<h3 class = \\'h3\\'>Log In</h3>\\n\\t        <input type = \\'text\\' value = \\'\\' class = \\'input-login\\' id = \\'username\\'>\\n\\t\\t\\t<input type = \\'password\\' value = \\'\\' class = \\'input-login\\' id = \\'pass\\'>\\n\\t\\t\\t<input type = \\'submit\\' value = \\'Sign In\\' class = \\'login-sbm\\'> \\n\\t\\t\\t<div class = \"login-error\"></div>\\n\\t\\t\\t<p>Have not an account?</p><div class = \\'register-redirect\\'>Register acc</div>\\n\\t';\n\n\t\t\t\tvar logel = document.querySelector('.login-sbm');\n\n\t\t\t\tlogel.onclick = function () {\n\t\t\t\t\tvar user = document.getElementById('username').value;\n\t\t\t\t\tvar password = document.getElementById('pass').value;\n\t\t\t\t\t//let password_repeat = document.getElementById('pas-rep').value;\n\t\t\t\t\t//let email = document.getElementById('em').value;\n\t\t\t\t\t//let store_id = 13;\n\t\t\t\t\t//let store_password = document.getElementById('storepass').value;\n\n\t\t\t\t\tvar payload = {\n\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Accept': 'application/json'\n\t\t\t\t\t\t\t// 'Content-Type': 'application/json'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tusername: user,\n\t\t\t\t\t\t\tpassword: password,\n\t\t\t\t\t\t\t//password_repeat : password_repeat,\n\t\t\t\t\t\t\t//email : email,\n\t\t\t\t\t\t\tstore_id: 13\n\t\t\t\t\t\t\t//store_password : store_password\n\t\t\t\t\t\t})\n\t\t\t\t\t};\n\t\t\t\t\tconsole.log('Payload: ', payload);\n\t\t\t\t\tfetch('https://pizza-tele.ga/api/v1/user/login', payload).then(function (res) {\n\t\t\t\t\t\treturn res.json();\n\t\t\t\t\t}).then(function (res) {\n\t\t\t\t\t\tconsole.log('Login result', res);\n\t\t\t\t\t\tif (res.success === true) {\n\t\t\t\t\t\t\tlocalStorage.setItem('token', res.token);\n\t\t\t\t\t\t\t//localStorage.getItem('token');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdocument.querySelector('.login-error').innerHTML = '<p>' + res.error + (res.validations ? res.validations : '') + '</p>';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tconsole.log('login');\n\t\t\t};\n\n\t\t\tvar clkLogin = document.querySelector('#login-btn');\n\t\t\tclkLogin.addEventListener('click', showLogin, false);\n\t\t}\n\t}]);\n\n\treturn Login;\n}();\n\nexports.default = Login;","map":{"mappings":[{"generated":{"line":9,"column":0},"source":"login.js","original":{"line":1,"column":0}},{"name":"Login","generated":{"line":17,"column":4},"source":"login.js","original":{"line":3,"column":6}},{"generated":{"line":24,"column":27},"source":"login.js","original":{"line":4,"column":10}},{"generated":{"line":25,"column":0},"source":"login.js","original":{"line":5,"column":0}},{"name":"showLogin","generated":{"line":25,"column":7},"source":"login.js","original":{"line":5,"column":4}},{"generated":{"line":25,"column":19},"source":"login.js","original":{"line":5,"column":16}},{"name":"showLogin","generated":{"line":25,"column":28},"source":"login.js","original":{"line":5,"column":4}},{"generated":{"line":25,"column":37},"source":"login.js","original":{"line":5,"column":16}},{"generated":{"line":25,"column":40},"source":"login.js","original":{"line":5,"column":27}},{"name":"document","generated":{"line":26,"column":0},"source":"login.js","original":{"line":6,"column":1}},{"name":"querySelector","generated":{"line":26,"column":13},"source":"login.js","original":{"line":6,"column":10}},{"generated":{"line":26,"column":26},"source":"login.js","original":{"line":6,"column":1}},{"generated":{"line":26,"column":27},"source":"login.js","original":{"line":6,"column":24}},{"generated":{"line":26,"column":49},"source":"login.js","original":{"line":6,"column":1}},{"name":"style","generated":{"line":26,"column":51},"source":"login.js","original":{"line":6,"column":48}},{"generated":{"line":26,"column":56},"source":"login.js","original":{"line":6,"column":1}},{"name":"display","generated":{"line":26,"column":57},"source":"login.js","original":{"line":6,"column":54}},{"generated":{"line":26,"column":64},"source":"login.js","original":{"line":6,"column":1}},{"generated":{"line":26,"column":67},"source":"login.js","original":{"line":6,"column":64}},{"generated":{"line":26,"column":74},"source":"login.js","original":{"line":6,"column":1}},{"name":"document","generated":{"line":27,"column":0},"source":"login.js","original":{"line":7,"column":1}},{"name":"querySelector","generated":{"line":27,"column":13},"source":"login.js","original":{"line":7,"column":10}},{"generated":{"line":27,"column":26},"source":"login.js","original":{"line":7,"column":1}},{"generated":{"line":27,"column":27},"source":"login.js","original":{"line":7,"column":24}},{"generated":{"line":27,"column":49},"source":"login.js","original":{"line":7,"column":1}},{"name":"innerHTML","generated":{"line":27,"column":51},"source":"login.js","original":{"line":7,"column":48}},{"generated":{"line":27,"column":60},"source":"login.js","original":{"line":7,"column":1}},{"generated":{"line":29,"column":0},"source":"login.js","original":{"line":17,"column":1}},{"name":"logel","generated":{"line":29,"column":8},"source":"login.js","original":{"line":17,"column":5}},{"name":"document","generated":{"line":29,"column":16},"source":"login.js","original":{"line":17,"column":13}},{"name":"querySelector","generated":{"line":29,"column":25},"source":"login.js","original":{"line":17,"column":22}},{"generated":{"line":29,"column":38},"source":"login.js","original":{"line":17,"column":13}},{"generated":{"line":29,"column":39},"source":"login.js","original":{"line":17,"column":36}},{"generated":{"line":29,"column":51},"source":"login.js","original":{"line":17,"column":13}},{"generated":{"line":29,"column":52},"source":"login.js","original":{"line":17,"column":1}},{"name":"logel","generated":{"line":31,"column":0},"source":"login.js","original":{"line":19,"column":1}},{"name":"onclick","generated":{"line":31,"column":10},"source":"login.js","original":{"line":19,"column":7}},{"generated":{"line":31,"column":17},"source":"login.js","original":{"line":19,"column":1}},{"generated":{"line":31,"column":20},"source":"login.js","original":{"line":19,"column":17}},{"generated":{"line":31,"column":32},"source":"login.js","original":{"line":19,"column":23}},{"generated":{"line":32,"column":0},"source":"login.js","original":{"line":20,"column":1}},{"name":"user","generated":{"line":32,"column":9},"source":"login.js","original":{"line":20,"column":5}},{"name":"document","generated":{"line":32,"column":16},"source":"login.js","original":{"line":20,"column":12}},{"name":"getElementById","generated":{"line":32,"column":25},"source":"login.js","original":{"line":20,"column":21}},{"generated":{"line":32,"column":39},"source":"login.js","original":{"line":20,"column":12}},{"generated":{"line":32,"column":40},"source":"login.js","original":{"line":20,"column":36}},{"generated":{"line":32,"column":50},"source":"login.js","original":{"line":20,"column":12}},{"name":"value","generated":{"line":32,"column":52},"source":"login.js","original":{"line":20,"column":48}},{"generated":{"line":32,"column":57},"source":"login.js","original":{"line":20,"column":1}},{"generated":{"line":33,"column":0},"source":"login.js","original":{"line":21,"column":1}},{"name":"password","generated":{"line":33,"column":9},"source":"login.js","original":{"line":21,"column":5}},{"name":"document","generated":{"line":33,"column":20},"source":"login.js","original":{"line":21,"column":16}},{"name":"getElementById","generated":{"line":33,"column":29},"source":"login.js","original":{"line":21,"column":25}},{"generated":{"line":33,"column":43},"source":"login.js","original":{"line":21,"column":16}},{"generated":{"line":33,"column":44},"source":"login.js","original":{"line":21,"column":40}},{"generated":{"line":33,"column":50},"source":"login.js","original":{"line":21,"column":16}},{"name":"value","generated":{"line":33,"column":52},"source":"login.js","original":{"line":21,"column":48}},{"generated":{"line":33,"column":57},"source":"login.js","original":{"line":21,"column":1}},{"generated":{"line":34,"column":0},"source":"login.js","original":{"line":22,"column":1}},{"generated":{"line":35,"column":0},"source":"login.js","original":{"line":23,"column":1}},{"generated":{"line":36,"column":0},"source":"login.js","original":{"line":24,"column":1}},{"generated":{"line":37,"column":0},"source":"login.js","original":{"line":25,"column":1}},{"generated":{"line":39,"column":0},"source":"login.js","original":{"line":27,"column":2}},{"name":"payload","generated":{"line":39,"column":9},"source":"login.js","original":{"line":27,"column":6}},{"generated":{"line":39,"column":19},"source":"login.js","original":{"line":27,"column":16}},{"name":"method","generated":{"line":40,"column":0},"source":"login.js","original":{"line":28,"column":3}},{"generated":{"line":40,"column":14},"source":"login.js","original":{"line":28,"column":11}},{"generated":{"line":40,"column":20},"source":"login.js","original":{"line":27,"column":16}},{"name":"headers","generated":{"line":41,"column":0},"source":"login.js","original":{"line":29,"column":3}},{"generated":{"line":41,"column":15},"source":"login.js","original":{"line":29,"column":12}},{"generated":{"line":42,"column":0},"source":"login.js","original":{"line":30,"column":4}},{"generated":{"line":42,"column":17},"source":"login.js","original":{"line":30,"column":14}},{"generated":{"line":43,"column":0},"source":"login.js","original":{"line":31,"column":4}},{"generated":{"line":44,"column":0},"source":"login.js","original":{"line":29,"column":12}},{"generated":{"line":44,"column":7},"source":"login.js","original":{"line":27,"column":16}},{"name":"body","generated":{"line":45,"column":0},"source":"login.js","original":{"line":33,"column":3}},{"name":"JSON","generated":{"line":45,"column":12},"source":"login.js","original":{"line":33,"column":9}},{"name":"stringify","generated":{"line":45,"column":17},"source":"login.js","original":{"line":33,"column":14}},{"generated":{"line":45,"column":26},"source":"login.js","original":{"line":33,"column":9}},{"generated":{"line":45,"column":27},"source":"login.js","original":{"line":33,"column":24}},{"name":"username","generated":{"line":46,"column":0},"source":"login.js","original":{"line":34,"column":4}},{"name":"user","generated":{"line":46,"column":17},"source":"login.js","original":{"line":34,"column":14}},{"generated":{"line":46,"column":21},"source":"login.js","original":{"line":33,"column":24}},{"name":"password","generated":{"line":47,"column":0},"source":"login.js","original":{"line":35,"column":4}},{"name":"password","generated":{"line":47,"column":17},"source":"login.js","original":{"line":35,"column":15}},{"generated":{"line":47,"column":25},"source":"login.js","original":{"line":33,"column":24}},{"generated":{"line":48,"column":0},"source":"login.js","original":{"line":36,"column":4}},{"generated":{"line":49,"column":0},"source":"login.js","original":{"line":37,"column":4}},{"name":"store_id","generated":{"line":50,"column":0},"source":"login.js","original":{"line":38,"column":4}},{"generated":{"line":50,"column":17},"source":"login.js","original":{"line":38,"column":15}},{"generated":{"line":51,"column":0},"source":"login.js","original":{"line":39,"column":4}},{"generated":{"line":52,"column":0},"source":"login.js","original":{"line":33,"column":24}},{"generated":{"line":52,"column":7},"source":"login.js","original":{"line":33,"column":9}},{"generated":{"line":53,"column":0},"source":"login.js","original":{"line":27,"column":16}},{"generated":{"line":53,"column":6},"source":"login.js","original":{"line":27,"column":2}},{"name":"console","generated":{"line":54,"column":0},"source":"login.js","original":{"line":42,"column":1}},{"name":"log","generated":{"line":54,"column":13},"source":"login.js","original":{"line":42,"column":9}},{"generated":{"line":54,"column":16},"source":"login.js","original":{"line":42,"column":1}},{"generated":{"line":54,"column":17},"source":"login.js","original":{"line":42,"column":13}},{"generated":{"line":54,"column":28},"source":"login.js","original":{"line":42,"column":1}},{"name":"payload","generated":{"line":54,"column":30},"source":"login.js","original":{"line":42,"column":26}},{"generated":{"line":54,"column":37},"source":"login.js","original":{"line":42,"column":1}},{"name":"fetch","generated":{"line":55,"column":0},"source":"login.js","original":{"line":43,"column":1}},{"generated":{"line":55,"column":11},"source":"login.js","original":{"line":43,"column":7}},{"generated":{"line":55,"column":52},"source":"login.js","original":{"line":43,"column":1}},{"name":"payload","generated":{"line":55,"column":54},"source":"login.js","original":{"line":43,"column":50}},{"generated":{"line":55,"column":61},"source":"login.js","original":{"line":43,"column":1}},{"name":"then","generated":{"line":55,"column":63},"source":"login.js","original":{"line":43,"column":59}},{"generated":{"line":55,"column":67},"source":"login.js","original":{"line":43,"column":1}},{"generated":{"line":55,"column":68},"source":"login.js","original":{"line":43,"column":64}},{"generated":{"line":56,"column":0},"source":"login.js","original":{"line":43,"column":64}},{"name":"res","generated":{"line":56,"column":13},"source":"login.js","original":{"line":43,"column":71}},{"name":"json","generated":{"line":56,"column":17},"source":"login.js","original":{"line":43,"column":75}},{"generated":{"line":56,"column":21},"source":"login.js","original":{"line":43,"column":71}},{"generated":{"line":56,"column":23},"source":"login.js","original":{"line":43,"column":64}},{"generated":{"line":57,"column":0},"source":"login.js","original":{"line":43,"column":64}},{"generated":{"line":57,"column":6},"source":"login.js","original":{"line":43,"column":1}},{"name":"then","generated":{"line":57,"column":8},"source":"login.js","original":{"line":44,"column":3}},{"generated":{"line":57,"column":12},"source":"login.js","original":{"line":43,"column":1}},{"generated":{"line":57,"column":13},"source":"login.js","original":{"line":44,"column":8}},{"generated":{"line":57,"column":28},"source":"login.js","original":{"line":44,"column":15}},{"name":"console","generated":{"line":58,"column":0},"source":"login.js","original":{"line":45,"column":3}},{"name":"log","generated":{"line":58,"column":14},"source":"login.js","original":{"line":45,"column":11}},{"generated":{"line":58,"column":17},"source":"login.js","original":{"line":45,"column":3}},{"generated":{"line":58,"column":18},"source":"login.js","original":{"line":45,"column":15}},{"generated":{"line":58,"column":32},"source":"login.js","original":{"line":45,"column":3}},{"name":"res","generated":{"line":58,"column":34},"source":"login.js","original":{"line":45,"column":31}},{"generated":{"line":58,"column":37},"source":"login.js","original":{"line":45,"column":3}},{"generated":{"line":59,"column":0},"source":"login.js","original":{"line":46,"column":3}},{"name":"res","generated":{"line":59,"column":10},"source":"login.js","original":{"line":46,"column":7}},{"name":"success","generated":{"line":59,"column":14},"source":"login.js","original":{"line":46,"column":11}},{"generated":{"line":59,"column":21},"source":"login.js","original":{"line":46,"column":7}},{"generated":{"line":59,"column":26},"source":"login.js","original":{"line":46,"column":23}},{"generated":{"line":59,"column":30},"source":"login.js","original":{"line":46,"column":3}},{"generated":{"line":59,"column":32},"source":"login.js","original":{"line":46,"column":29}},{"name":"localStorage","generated":{"line":60,"column":0},"source":"login.js","original":{"line":47,"column":4}},{"name":"setItem","generated":{"line":60,"column":20},"source":"login.js","original":{"line":47,"column":17}},{"generated":{"line":60,"column":27},"source":"login.js","original":{"line":47,"column":4}},{"generated":{"line":60,"column":28},"source":"login.js","original":{"line":47,"column":25}},{"generated":{"line":60,"column":35},"source":"login.js","original":{"line":47,"column":4}},{"name":"res","generated":{"line":60,"column":37},"source":"login.js","original":{"line":47,"column":34}},{"name":"token","generated":{"line":60,"column":41},"source":"login.js","original":{"line":47,"column":38}},{"generated":{"line":60,"column":46},"source":"login.js","original":{"line":47,"column":4}},{"generated":{"line":61,"column":0},"source":"login.js","original":{"line":48,"column":3}},{"generated":{"line":62,"column":0},"source":"login.js","original":{"line":49,"column":3}},{"generated":{"line":62,"column":7},"source":"login.js","original":{"line":46,"column":3}},{"generated":{"line":62,"column":13},"source":"login.js","original":{"line":49,"column":9}},{"name":"document","generated":{"line":63,"column":0},"source":"login.js","original":{"line":50,"column":3}},{"name":"querySelector","generated":{"line":63,"column":16},"source":"login.js","original":{"line":50,"column":12}},{"generated":{"line":63,"column":29},"source":"login.js","original":{"line":50,"column":3}},{"generated":{"line":63,"column":30},"source":"login.js","original":{"line":50,"column":26}},{"generated":{"line":63,"column":44},"source":"login.js","original":{"line":50,"column":3}},{"name":"innerHTML","generated":{"line":63,"column":46},"source":"login.js","original":{"line":50,"column":42}},{"generated":{"line":63,"column":55},"source":"login.js","original":{"line":50,"column":3}},{"generated":{"line":63,"column":58},"source":"login.js","original":{"line":50,"column":54}},{"name":"res","generated":{"line":63,"column":66},"source":"login.js","original":{"line":50,"column":62}},{"name":"error","generated":{"line":63,"column":70},"source":"login.js","original":{"line":50,"column":66}},{"generated":{"line":63,"column":75},"source":"login.js","original":{"line":50,"column":54}},{"name":"res","generated":{"line":63,"column":79},"source":"login.js","original":{"line":51,"column":4}},{"name":"validations","generated":{"line":63,"column":83},"source":"login.js","original":{"line":51,"column":8}},{"generated":{"line":63,"column":94},"source":"login.js","original":{"line":51,"column":4}},{"name":"res","generated":{"line":63,"column":97},"source":"login.js","original":{"line":51,"column":22}},{"name":"validations","generated":{"line":63,"column":101},"source":"login.js","original":{"line":51,"column":26}},{"generated":{"line":63,"column":112},"source":"login.js","original":{"line":51,"column":4}},{"generated":{"line":63,"column":115},"source":"login.js","original":{"line":51,"column":40}},{"generated":{"line":63,"column":117},"source":"login.js","original":{"line":50,"column":54}},{"generated":{"line":63,"column":121},"source":"login.js","original":{"line":51,"column":47}},{"generated":{"line":63,"column":127},"source":"login.js","original":{"line":50,"column":3}},{"generated":{"line":64,"column":0},"source":"login.js","original":{"line":52,"column":3}},{"generated":{"line":65,"column":0},"source":"login.js","original":{"line":56,"column":3}},{"generated":{"line":65,"column":6},"source":"login.js","original":{"line":43,"column":1}},{"generated":{"line":66,"column":0},"source":"login.js","original":{"line":59,"column":2}},{"generated":{"line":66,"column":5},"source":"login.js","original":{"line":19,"column":1}},{"name":"console","generated":{"line":68,"column":0},"source":"login.js","original":{"line":63,"column":1}},{"name":"log","generated":{"line":68,"column":12},"source":"login.js","original":{"line":63,"column":9}},{"generated":{"line":68,"column":15},"source":"login.js","original":{"line":63,"column":1}},{"generated":{"line":68,"column":16},"source":"login.js","original":{"line":63,"column":13}},{"generated":{"line":68,"column":23},"source":"login.js","original":{"line":63,"column":1}},{"generated":{"line":69,"column":0},"source":"login.js","original":{"line":64,"column":1}},{"generated":{"line":69,"column":4},"source":"login.js","original":{"line":5,"column":0}},{"generated":{"line":71,"column":0},"source":"login.js","original":{"line":66,"column":0}},{"name":"clkLogin","generated":{"line":71,"column":7},"source":"login.js","original":{"line":66,"column":4}},{"name":"document","generated":{"line":71,"column":18},"source":"login.js","original":{"line":66,"column":15}},{"name":"querySelector","generated":{"line":71,"column":27},"source":"login.js","original":{"line":66,"column":24}},{"generated":{"line":71,"column":40},"source":"login.js","original":{"line":66,"column":15}},{"generated":{"line":71,"column":41},"source":"login.js","original":{"line":66,"column":38}},{"generated":{"line":71,"column":53},"source":"login.js","original":{"line":66,"column":15}},{"generated":{"line":71,"column":54},"source":"login.js","original":{"line":66,"column":0}},{"name":"clkLogin","generated":{"line":72,"column":0},"source":"login.js","original":{"line":67,"column":0}},{"name":"addEventListener","generated":{"line":72,"column":12},"source":"login.js","original":{"line":67,"column":9}},{"generated":{"line":72,"column":28},"source":"login.js","original":{"line":67,"column":0}},{"generated":{"line":72,"column":29},"source":"login.js","original":{"line":67,"column":26}},{"generated":{"line":72,"column":36},"source":"login.js","original":{"line":67,"column":0}},{"name":"showLogin","generated":{"line":72,"column":38},"source":"login.js","original":{"line":67,"column":35}},{"generated":{"line":72,"column":47},"source":"login.js","original":{"line":67,"column":0}},{"generated":{"line":72,"column":49},"source":"login.js","original":{"line":67,"column":46}},{"generated":{"line":72,"column":54},"source":"login.js","original":{"line":67,"column":0}},{"generated":{"line":73,"column":0},"source":"login.js","original":{"line":68,"column":2}},{"name":"Login","generated":{"line":79,"column":18},"source":"login.js","original":{"line":73,"column":15}}],"sources":{"login.js":"import App from \"./App\";\r\n\r\nclass Login {\r\n\t\trender(){\r\nvar showLogin = function() {\r\n\tdocument.querySelector('.input-login-wrapper').style.display = 'block';\r\n\tdocument.querySelector('.input-login-wrapper').innerHTML = `\r\n\t<div class = 'cross'>x</div>\r\n\t<h3 class = 'h3'>Log In</h3>\r\n\t        <input type = 'text' value = '' class = 'input-login' id = 'username'>\r\n\t\t\t<input type = 'password' value = '' class = 'input-login' id = 'pass'>\r\n\t\t\t<input type = 'submit' value = 'Sign In' class = 'login-sbm'> \r\n\t\t\t<div class = \"login-error\"></div>\r\n\t\t\t<p>Have not an account?</p><div class = 'register-redirect'>Register acc</div>\r\n\t`;\r\n\r\n\tvar logel = document.querySelector('.login-sbm');\r\n\r\n\tlogel.onclick = () => {\r\n\tlet user = document.getElementById('username').value;\r\n\tlet password = document.getElementById('pass').value;\r\n\t//let password_repeat = document.getElementById('pas-rep').value;\r\n\t//let email = document.getElementById('em').value;\r\n\t//let store_id = 13;\r\n\t//let store_password = document.getElementById('storepass').value;\r\n\t\t\r\n\t\tlet payload = {\r\n\t\t\tmethod: 'post',\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t// 'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tusername: user,\r\n\t\t\t\tpassword : password,\r\n\t\t\t\t//password_repeat : password_repeat,\r\n\t\t\t\t//email : email,\r\n\t\t\t\tstore_id : 13,\r\n\t\t\t\t//store_password : store_password\r\n\t\t\t})\r\n\t\t};\r\n\tconsole.log('Payload: ', payload);\r\n\tfetch('https://pizza-tele.ga/api/v1/user/login', payload).then(res => res.json())\r\n\t\t.then(res => {\r\n\t\t\tconsole.log('Login result', res);\r\n\t\t\tif (res.success === true) {\r\n\t\t\t\tlocalStorage.setItem('token', res.token);\r\n\t\t\t//localStorage.getItem('token');\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('.login-error').innerHTML = '<p>' + res.error + \r\n\t\t\t(res.validations ? res.validations : '' ) + '</p>';\r\n\t\t}\r\n\r\n\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\t\t\r\n\t}\r\n\r\n\r\n\r\n\tconsole.log('login');\r\n}\r\n\r\nvar clkLogin = document.querySelector('#login-btn');\r\nclkLogin.addEventListener('click', showLogin, false);\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default Login;\r\n\r\n\r\n"},"lineCount":null}},"hash":"ecdf407b6829e29e8a64f02b99d09811","cacheData":{"env":{}}}